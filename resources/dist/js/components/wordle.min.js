"use strict";var wordNumber=Math.floor(Math.random()*WORDS.length),solution=WORDS[wordNumber],Wordle={maxNumberOfGuesses:6,maxNumberOfLetters:5,progressFlags:{correct:"ðŸŸ©",present:"ðŸŸ¨",absent:"â¬›"},colorFlags:{correct:"green",present:"yellow",absent:"grey"},remainingGuessesCounter:0,letterCounter:0,currentGuessLettersCollection:[],stats:{winInGuesssNumber:0,progress:[]},elements:{wjsGameBoardId:"wjs_game_board",wjsKeyboardId:"wjs_keyboard",wjsShareId:"wjs_share",wjsKeyboardRowKeypadClass:"wjs-keyboard-row__keypad",wjsGameBoardLetterContainer:"wjs-game-board-letter-container",wjsGameBoardLetterItem:"wjs-game-board-letter-item",wjsGameBoardLetterItemModifierFilled:"-filled"},process:{checkGuessLetters:function(){var r=Wordle,e=document.getElementsByClassName(r.elements.wjsGameBoardLetterContainer)[r.maxNumberOfGuesses-r.remainingGuessesCounter],t=r.currentGuessLettersCollection.join(""),s=Array.from(solution);if(t.length!=r.maxNumberOfLetters)alert("Not enough letters!");else if(WORDS.includes(t)){for(var n=[],o=0;o<r.maxNumberOfLetters;o++){var a="",l=e.children[o],u=r.currentGuessLettersCollection[o],i=s.indexOf(u);-1===i?(a=r.colorFlags.absent,n.push(r.progressFlags.absent)):(u===s[o]?(a=r.colorFlags.correct,n.push(r.progressFlags.correct)):(a=r.colorFlags.present,n.push(r.progressFlags.present)),s[i]="-"),!function(t,e,s){setTimeout(function(){t.classList.add("pulse"),t.addEventListener("animationend",function(e){e.stopPropagation(),t.classList.remove("pulse")},{once:!0}),t.style.backgroundColor=s,r.process.shadeKeyboard(e,s)},250*o)}(l,u,a)}r.stats.progress.push(n),t===solution?(alert("Phew! you got the word!"),r.stats.winInGuesssNumber=r.maxNumberOfGuesses-r.remainingGuessesCounter+1,r.remainingGuessesCounter=0,document.getElementById(r.elements.wjsShareId).classList.remove("-hide-element")):(r.remainingGuessesCounter--,r.currentGuessLettersCollection=[],r.letterCounter=0,r.remainingGuessesCounter<=0&&(alert('Run out of guesses! Game over. The correct word is: "'.concat(solution,'"')),document.getElementById(r.elements.wjsShareId).classList.remove("-hide-element")))}else alert("Word not in list!")},shadeKeyboard:function(e,t){var s,r=Wordle,n=document.getElementsByClassName(r.elements.wjsKeyboardRowKeypadClass);for(s in n)if(n[s].textContent===e){var o=n[s].style.backgroundColor;if(o===r.colorFlags.correct)return;if(o===r.colorFlags.present&&t!==r.colorFlags.correct)return;n[s].style.backgroundColor=t;break}}},actions:{addLetter:function(e){var t,s=Wordle;s.letterCounter>=s.maxNumberOfLetters||(e=e.toLowerCase(),(t=document.getElementsByClassName(s.elements.wjsGameBoardLetterContainer)[s.maxNumberOfGuesses-s.remainingGuessesCounter].children[s.letterCounter]).classList.add("pulse"),t.addEventListener("animationend",function(e){e.stopPropagation(),t.classList.remove("pulse")},{once:!0}),t.textContent=e,t.classList.add(s.elements.wjsGameBoardLetterItemModifierFilled),s.currentGuessLettersCollection.push(e),s.letterCounter++)},deleteLetter:function(){var e=Wordle,t=document.getElementsByClassName(e.elements.wjsGameBoardLetterContainer)[e.maxNumberOfGuesses-e.remainingGuessesCounter].children[e.letterCounter-1];t.textContent="",t.classList.remove(e.elements.wjsGameBoardLetterItemModifierFilled),e.currentGuessLettersCollection.pop(),e.letterCounter--}},events:{onKeyUp:function(){var s=Wordle;document.addEventListener("keyup",function(e){var t;0!==s.remainingGuessesCounter&&("Backspace"===(e=String(e.key))&&0!==s.letterCounter?s.actions.deleteLetter():"Enter"===e?s.process.checkGuessLetters():!(t=e.match(/[a-z]/gi))||1<t.length||s.actions.addLetter(e))})},onClickKeyPad:function(){var t=Wordle;document.getElementById(t.elements.wjsKeyboardId).addEventListener("click",function(e){var e=e.target;e.classList.contains(t.elements.wjsKeyboardRowKeypadClass)&&("Del"===(e=e.textContent)&&(e="Backspace"),document.dispatchEvent(new KeyboardEvent("keyup",{key:e})))})},onClickShare:function(){var s=Wordle;document.getElementById(s.elements.wjsShareId).addEventListener("click",function(e){var t=s.stats.winInGuesssNumber||"X",t=(t="WordleJS #".concat(wordNumber," ").concat(t,"/").concat(s.maxNumberOfGuesses,"\n\n"))+(s.stats.progress.map(function(e){return e.join("")+"\n"}).join("")+"\n")+"https://lorddashme.github.io/";navigator.clipboard.writeText(t)})}},render:function(){for(var e=this,t=(e.remainingGuessesCounter=e.maxNumberOfGuesses,document.getElementById(e.elements.wjsGameBoardId)),s=0;s<e.maxNumberOfGuesses;s++){var r=document.createElement("div");r.className=e.elements.wjsGameBoardLetterContainer;for(var n=0;n<e.maxNumberOfLetters;n++){var o=document.createElement("div");o.className=e.elements.wjsGameBoardLetterItem,r.appendChild(o)}t.appendChild(r)}}};